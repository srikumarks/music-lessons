<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <style>
            .label { font-weight: bold }
            .sectionLabel { font-size: 20pt; font-weight: bold; }
        </style>
    </head>
    <body>
        <h1 class="title">gaNaraajena rakshitoham</h1>
        <div class="info">
            <span class="label">Info</span>
            <span class="type">Krti</span>
            <span class="composer">muttusvaami diikshitar</span>
            <span class="raga">aarabhi</span>
            <span class="arohana">SRmPDS</span>
            <span class="avarohana">SNDPmGRS</span>
        </div>
        <div class="lyrics">
            <div class="part">
                <span class="label">Pallavi</span>
                <div class="text">
                    <div class="line">GaNaraajena Rakshitoham GuNijananuta Pallavapadena</div>
                </div>
            </div>
            <div class="part">
                <span class="label">Samashti Caranam</span>
                <div class="text">
                    <div class="line">ANimaadhyashtta-siddhippradena MaaNikyamakuTaadidhareNa</div>
                    <div class="line">MantriNi Poojita Sumukhena Maanitaguruguha Vanditena</div>
                    <div class="line">Dinakarakotipprakaas’ena Vinataas’rutamandaareNa</div>
                    <div class="line">Manupoojita Paas’aangkus’ena KaananasThita BrahmacaryeNa</div>
                </div>
            </div>
            <div class="translation">
                <div class="label">Translation</div>
                <div class="title">A prayer to Lord Ganesh</div>
                <div class="text">
                    <div class="line">I am protected by ...</div>
                    <div class="line">One who 	gives all kinds of ‘siddhi-s’ including ‘aNimaa’</div>
                    <div class="line">One who 	is adorned by such jewelry as diamond</div>
                    <div class="line">One who          is worshiped by ‘Mantrini’</div>
                    <div class="line">One who          has a beautiful face</div>
                    <div class="line">One who          is respected by ‘Guruguha’ (Lord Subrammanya)</div>
                    <div class="line">One who          shines with the brightness of one crore Suns</div>
                    <div class="line">One who   	gives all that is wanted by the devotees</div>
                    <div class="line">One who	has the ‘binding-thread’ and trident </div>
                    <div class="line">One who	dwells as ‘brahmachari’ (unmarried) in a forest</div>
                    <div class="line">One who	has the soft feet like flower</div>
                </div>
            </div>
            <div class="notation">
                <svg width="1280" height="2250" xmlns="http://www.w3.org/2000/svg" version="1.1">
                    <text x="0" y="50" class="sectionLabel">Pallavi</text>
                    <svg y="70">
                
                    <svg class="ptd" y="0" data-pattern="misra-capu" data-subdivs="2">
                        <text y="25">
                        m , P , D , P , m G R , S , R , m G R , m , m , P , , , 
                        </text>
                        <text y="50">
                        ga _ Na _ raa _ _ _ je _ _ _ na _ ra _ _ _ kshi _ to _ _ _ ham _ _ _
                        </text>
                        <text y="75" data-subdivs="4">
                        S , P m P , , , n D , n P , , , m , G m R , , G S , , ,
                        G R G R m , G m R , , , m , , , m , G m P , , , , , , ,
                        </text>
                    </svg>
                    <svg class="ptd" y="120" data-pattern="misra-capu" data-subdivs="2">
                        <text y="25">
                        m , P , D S+ D P m P m G R , R P m G R , m , m , P , , , 
                        </text>
                        <text y="50">
                        ga _ Na _ raa _ _ _ je _ _ _ na _ ra _ _ _ kshi _ to _ _ _ ham _ _ _
                        </text>
                        <text y="75" data-subdivs="4">
                        S , P m P , , , D n D S+ D , , n m , G P m , G m R , , ,
                        R G R P m , G m R , , , m , , , m , G m P , , , , , , ,
                        </text>
                    </svg>
                    <svg class="ptd" y="240" data-pattern="misra-capu" data-subdivs="2">
                        <text y="25">
                        S+ N D D P P m P D P m G R S
                        </text>
                        <text y="50">
                        gu Ni ja na nu ta pal _ la va pa de _ na
                        </text>
                        <text y="75" data-subdivs="4">
                        S+ , N S+ D , P D P , m P m , P , P D P , m , G m R g S ,
                        </text>
                    </svg>
                    <svg class="ptd" y="360" data-pattern="misra-capu" data-subdivs="2">
                        <text y="25">
                        m , P , D S+ D P m P m G R , R P m G R , m , m , P , , , 
                        </text>
                        <text y="50">
                        ga _ Na _ raa _ _ _ je _ _ _ na _ ra _ _ _ kshi _ to _ _ _ ham _ _ _
                        </text>
                        <text y="75" data-subdivs="4">
                        S , P m P , , , D n D S+ D , , n m , G P m , G m R , , ,
                        R g R P m , G m R , , ,  m , , , G m , , P , , , , , , ,
                        </text>
                    </svg>
                    <svg class="ptd" y="480" data-pattern="misra-capu" data-subdivs="2">
                        <text y="25">
                        _ _ _ _ _ _  _ _ _ _ _ _ _ _ _ _ _ _ _ _ , m m , P , , ,
                        </text>
                        <text y="50">
                        _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ to _ _ ham _ _ _
                        </text>
                        <text y="75" data-subdivs="4">
                        _ _ _ _ _ _ _ _ _ _ _ _  _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
                        _ _ _ _ _ _ _ _ _ _ _ _  , , m , G m , , P , , , , , , ,
                        </text>
                    </svg>
                    </svg>

                    <text x="0" y="670" class="sectionLabel">Samashti Caranam</text>

                    <svg y="690">
                        <svg class="ptd" y="0" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            D , P , m , , , m G R , S , R , m , P , S+ , , D , , P ,
                            </text>
                            <text y="50">
                            a _ Ni _ maa _ _ _ dhya _ sh _ Ta _ si _ d _ dhi _ ppra _ _ de _ _ na _
                            </text>
                            <text y="75" data-subdivs="4">
                            P m , , D P D , P m G m , , , , m , G m R , , g S , , , R , , , m , , , P , , D D , R+ S+ , , D , , n D , , n P ,
                            </text>
                        </svg>
                        <svg class="ptd" y="120" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            P D S+ , D , P , m P m G R S R , m , P , S+ , , D , , P ,
                            </text>
                            <text y="50">
                            a _ Ni _ maa _ _ _ dhya _ _ sh Ta _ si _ d _ ddhi _ p pra _ de _ _ na _
                            </text>
                            <text y="75" data-subdivs="4">
                            P , P D R+ , S+ , S+ D , n P , , , m , m P m , m G m R g S R , , , m , , , P , , D D , R+ S+ , , D , , n D , , n P ,
                            </text>
                        </svg>
                        <svg class="ptd" y="240" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            S+ R+ S+ N D D P P m P m G R S R , m , P , S+ , , D , , P ,
                            </text>
                            <text y="50">
                            a _ Ni _ maa _ _ _ dhya _ _ sh Ta _ si _ d _ ddhi _ p pra _ de _ _ na _
                            </text>
                            <text y="75" data-subdivs="4">
                            N S+ R+ , S+ , N S+ D , P D P , m P m , m P m , G m R g S , R , , , m , , , P , , D D , R+ S+ , , D , , n D , , n P ,
                            </text>
                        </svg>
                        <svg class="ptd" y="360" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            m , , , P , , , D , S+ , N , D , , , P , D , R+ , , , S+ ,
                            </text>
                            <text y="50">
                            maa _ _ _ Ni _ _ _ kya _ ma _ ku _ Taa _ _ _ di _ dha _ re _ _ _ Na _
                            </text>
                            <text y="75" data-subdivs="4">
                            P m G m , , , , P , , , , , , , S+ D , , S+ D , , S+ , N S+ D , , N D , , N P , , , n D , , n D , , g+ R+ , , g+ S+ , ,
                            </text>
                        </svg>
                        <svg class="ptd" y="480" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            S+ , m , P , , , D , S+ , N , D , , , P , D , R+ , , , S+ ,
                            </text>
                            <text y="50">
                            maa _ _ _ Ni _ _ _ kya _ ma _ ku _ Taa _ _ _ di _ dha _ re _ _ _ Na _
                            </text>
                            <text y="75" data-subdivs="4">
                            S+ , , , m , , , P , , , , , , , S+ D , , S+ D , , S+ , N S+ D , , N D , , N P , , , n D , , n D , , g+ R+ , , g+ S+ , ,
                            </text>
                       </svg>
                        <svg class="ptd" y="600" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            R+ , , , m+ G+ R+ , , , S+ , , , N , D , m , P , D , , , R+ ,
                            </text>
                            <text y="50">
                            man _ _ _ tri _ Ni _ _ _ puu _ _ _ ji _ ta _ su _ mu _ khe _ _ _ na _
                            </text>
                            <text y="75" data-subdivs="4">
                            R+ , g+ R+ g+ R+ , , m , G m m+ R+ , , g+ R+ , g+ D S+ , , , , , , S+ , N S+ S+ D , , D m , , P , , , n D , , , , , , n D , R+
                            </text>
                        </svg>
                        <svg class="ptd" y="720" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            S+ , , , N , D , , P m , P , D , , P , , m P m G R , S ,
                            </text>
                            <text y="50">
                            maa _ _ _ ni _ ta _ _ gu ru _ gu _ ha _ _ van _ _ di _ te _ _ _ na _
                            </text>
                            <text y="75" data-subdivs="4">
                            S+ , , , , , , , S+ N , , S+ D , , , , P , m , , , P , , , n D , , n D , S+ D P , , m , , P m , G m m R , , G S , ,
                            </text>
                        </svg>
                    </svg>

                    <text x="0" y="1550" class="sectionLabel">Madhyamakala Sahityam</text>

                    <svg y="1570">
                        <svg class="ptd" y="0" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            S R m G R , S D P , , m G R D D P , m P S+ N D , D R+ , S+
                            </text>
                            <text y="50">
                            di na ka ra ko _ Ti pra kaa _ _ Se _ na vi na taa _ Sru ta  man _ daa _ re _ _ Na
                            </text>
                            <text y="75" data-subdivs="4">
                            S , R , m , G m R g R g S S n D , n P , , , m , G m R , S n D n P , , , G P G P D S+ N S+ D n D n D n D g+ R+ , g S+
                            </text>
                        </svg>
                        <svg class="ptd" y="120" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            S+ R+ m+ G+ R+ R+ S+ N D , D R+ , S+ R+ , S+ N D P D , P m G R m P
                            </text>
                            <text y="50">
                            ma nu puu _ ji ta paa _ Saan _ ku Se _ na kaa _ na na sThi ta brah _ ma ca r ye _ Na
                            </text>
                            <text y="75" data-subdivs="4">
                            S+ , R+ , m+ , G+ m+ R+ g+ R+ g+ S+ , N S+ S+ D , , D n D g+ R+ g S+ , D g+ R+ , g+ S+ N S+ D n P , R , n D n P m , g m R , m , P ,
                            </text>
                        </svg>
                    </svg>

                    <text x="0" y="1850" class="sectionLabel">Cittasvaram</text>

                    <svg y="1870">
                         <svg class="pd" y="0" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            P , D , P , m , G , R , S , R , m , G , R , S , N , D ,
                            </text>
                            <text y="50" data-subdivs="4">
                            P , , , n D , n P , , , m , m , , G , , m R , g S , , , m R , , m R , m m , G m m R , , g S , , S , N S S D , ,
                            </text>
                        </svg>
                        <svg class="pd" y="100" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            S , , , S , P , D , S , R , m , G , R , m , m , P , , ,
                            </text>
                            <text y="50" data-subdivs="4">
                            S , D S , , , , S , , , S P , , S D , , S , , , m R , , m R , , m G , m m R , , m R m , G m , , P , , , , , , ,
                            </text>
                        </svg>
                        <svg class="pd" y="200" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            D , D , P , m , P , D , S+ , R+ , S+ , R+ , m+ , G+ , R+ , R+ ,
                            </text>
                            <text y="50" data-subdivs="4">
                            S , , , n D , n P , , , R , P m P , , , n D n D S+ , , , g+ R , g+ , , , , m R+ , , m+ R+ , , m+ G+ , m+ m+ R+ , , g+ R+ , g
                            </text>
                        </svg>
                        <svg class="pd" y="300" data-pattern="misra-capu" data-subdivs="2">
                            <text y="25">
                            m+ G+ R+ R+ S+ R+ S+ R S+ N D P m P D R+ S+ N D P D S+ D P m G R R
                            </text>
                            <text y="50" data-subdivs="4">
                            g+ R+ m G m+ R+ g+ R+ S+ , S+ R+ S+ , S+ R+ S+ , N S+ D n P , G P G P D n D R+ S+ , N S+ D n P , D n D S+ D n P , m , G m R g R g
                            </text>
                        </svg>
                   </svg>
                    
                </svg>
            </div>
        </div>
        <script>
            var patterns = {
                "misra-capu": [
                    {tick: 40}, {space: 20}, {tick: 40}, {space: 20},
                    {tick: 40}, {space: 20}, {tick: 40}, {tick: 40},
                    {space: 20}, {tick: 40}, {tick: 40}, {space: 30}
                    ]
                };


            spaceSetText(document.querySelector('div svg'));

            function spaceSetText(svg) {
                var lines = svg.querySelectorAll('svg.ptd, svg.pd');
                var N = lines.length, j, M;
                var i, g, ptd, pattern, scale = 1.7;
                for (i = 0; i < N; ++i) {
                    g = lines[i];
                    ptd = g.querySelectorAll('text');
                    if (!ptd || ptd.length === 0) {
                        continue;
                    }
                    pattern = patterns[g.dataset.pattern];
                    if (ptd.length === 3) {
                        spaceSetLine(ptd[0], pattern, scale);
                        spaceSetLine(ptd[1], pattern, scale);
                        spaceSetLine(ptd[2], pattern, scale);
                    } else if (ptd.length === 2) {
                        spaceSetLine(ptd[0], pattern, scale);
                        spaceSetLine(ptd[1], pattern, scale);
                    }
                }
            }

            function spaceSetLine(text, pattern, scale) {
                var contents = text.textContent.trim().split(/\s+/g);
                console.assert(pattern);
                var pi, pN, i, N, x, j;
                pi = 0; pN = pattern.length;
                i = 0; N = contents.length;
                text.textContent = "";
                var subdivs = parseInt(text.dataset.subdivs || text.parentElement.dataset.subdivs || 1, 10);
                text.setAttribute('style', 'font-size: ' + (subdivs > 2 ? 12 : 14) + 'pt');
                for (i = 0, pi = 0, x = 0; i < N; pi = (pi + 1) % pN) {
                    var inst = pattern[pi];
                    if ('tick' in inst) {
                        // Consume one element.
                        for (j = 0; j < subdivs; ++j) {
                            svgelem(text, 'tspan', {x: x}, show(contents[i]));
                            ++i;
                            x += inst.tick * scale / subdivs;
                        }
                    } else if ('space' in inst) {
                        x += inst.space * scale;
                    }
                }
            }

            function show(text) {
                var hisa = "Ṡ";
                var losa = "Ṣ";
                if (text === '_') {
                    return "";
                } else if (text.length === 2 && text[1] === '+') {
                    return text[0] + hisa[1];
                } else if (text.length === 2 && text[1] === '-') {
                    return text[0] + losa[1];
                }
                return text;
            }

            function svgelem(elem, n, attrs, content) {
                var tag = document.createElementNS('http://www.w3.org/2000/svg', n);
                if (attrs) {
                    for (var k in attrs) {
                        if (attrs[k]) {
                            tag.setAttribute(k, attrs[k]);
                        }
                    }
                }
                if (content) {
                    tag.textContent = content;
                }
                elem.appendChild(tag);
                return tag;
            }
        </script>
    </body>
</html>
